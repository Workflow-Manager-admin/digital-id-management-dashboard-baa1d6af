{"is_source_file": true, "format": "Python", "description": "Main backend API implementation for digital ID management, including user management, authentication, digital ID profiles, unique number linking, and admin authentication using FastAPI, SQLAlchemy, JWT, and Pydantic.", "external_files": [".env", "sqlalchemy", "fastapi", "pydantic", "jose", "passlib", "dotenv", "datetime"], "external_methods": ["fastapi.FastAPI", "fastapi.Depends", "fastapi.HTTPException", "fastapi.status", "fastapi.Request", "fastapi.middleware.CORSMiddleware", "fastapi.security.OAuth2PasswordBearer", "fastapi.security.OAuth2PasswordRequestForm", "fastapi.responses.JSONResponse", "jose.jwt", "passlib.context.CryptContext", "pydantic.BaseModel", "pydantic.Field", "sqlalchemy.create_engine", "sqlalchemy.Column", "sqlalchemy.Integer", "sqlalchemy.String", "sqlalchemy.ForeignKey", "sqlalchemy.ext.declarative.declarative_base", "sqlalchemy.orm.sessionmaker", "sqlalchemy.orm.relationship", "sqlalchemy.orm.Session"], "published": ["app", "health_check", "admin_login", "create_user", "list_users", "get_user", "update_user", "delete_user", "create_digital_id", "list_digital_ids", "get_digital_id", "update_digital_id", "delete_digital_id", "list_unique_numbers", "link_unique_number", "unlink_unique_number"], "classes": [{"name": "Admin", "description": "SQLAlchemy model representing administrator accounts with username and hashed password."}, {"name": "User", "description": "SQLAlchemy model for application users/holders, with associated digital ID profile."}, {"name": "DigitalIDProfile", "description": "SQLAlchemy model for digital ID profiles linked to users, with unique ID number and issue date."}, {"name": "UniqueNumber", "description": "SQLAlchemy model for unique numbers that can be linked to digital ID profiles."}], "methods": [{"name": "get_db()", "description": "Provides a database session as a dependency for routes.", "scope": "", "scopeKind": ""}, {"name": "verify_password", "description": "Verifies a password against its hash."}, {"name": "get_password_hash(password)", "description": "Hashes a password for storage.", "scope": "", "scopeKind": ""}, {"name": "create_access_token(data: dict, expires_delta: Optional[timedelta] = None)", "description": "Generates a JWT token with expiration.", "scope": "", "scopeKind": ""}, {"name": "get_admin_by_username(db: Session, username: str)", "description": "Fetches an admin user by username.", "scope": "", "scopeKind": ""}, {"name": "authenticate_admin(db: Session, username: str, password: str)", "description": "Authenticates admin credentials.", "scope": "", "scopeKind": ""}, {"name": "get_current_admin(token: str = Depends(oauth2_scheme), db: Session = Depends(get_db))", "description": "Dependency that verifies JWT token and retrieves current admin user.", "scope": "", "scopeKind": ""}, {"name": "admin_login(form_data: OAuth2PasswordRequestForm = Depends(), db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "create_digital_id(profile: DigitalIDProfileCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "create_user(user: UserCreate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "custom_http_exception_handler(request: Request, exc: HTTPException)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete_digital_id(profile_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete_user(user_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_digital_id(profile_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_user(user_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "link_unique_number(req: LinkNumberRequest, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_digital_ids(skip: int = 0, limit: int = 50, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_unique_numbers(skip: int = 0, limit: int = 100, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_users(skip: int = 0, limit: int = 50, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unlink_unique_number(unique_number_id: int, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_digital_id(profile_id: int, profile_in: DigitalIDProfileUpdate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_user(user_id: int, user_in: UserUpdate, db: Session = Depends(get_db))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["load_dotenv", "create_engine", "sessionmaker", "jwt.encode", "jwt.decode", "db.query", "db.add", "db.commit", "db.refresh", "db.delete", "db.close"], "search-terms": ["digital_id_backend", "FastAPI", "JWT", "SQLAlchemy models", "digital ID profiles", "unique number linking", "admin authentication"], "state": 2, "file_id": 7, "knowledge_revision": 21, "git_revision": "d9a80ba51a2ca539385cbff43d1112d024b662e2", "revision_history": [{"19": "9c7e5bb3e183bb3c3fad2e042abc64814cc12178"}, {"20": "d9a80ba51a2ca539385cbff43d1112d024b662e2"}, {"21": "d9a80ba51a2ca539385cbff43d1112d024b662e2"}], "ctags": [{"_type": "tag", "name": "ACCESS_TOKEN_EXPIRE_MINUTES", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^ACCESS_TOKEN_EXPIRE_MINUTES = 60 * 24$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ALGORITHM", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^ALGORITHM = \"HS256\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Admin", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class Admin(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AdminLoginRequest", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class AdminLoginRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "DigitalIDProfileRead", "scopeKind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "UniqueNumberRead", "scopeKind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    class Config:$/", "language": "Python", "kind": "class", "scope": "UserRead", "scopeKind": "class"}, {"_type": "tag", "name": "DB_HOST", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^DB_HOST = os.getenv(\"POSTGRES_URL\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DB_NAME", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^DB_NAME = os.getenv(\"POSTGRES_DB\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DB_PASSWORD", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^DB_PASSWORD = os.getenv(\"POSTGRES_PASSWORD\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DB_PORT", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^DB_PORT = os.getenv(\"POSTGRES_PORT\", \"5432\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DB_USER", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^DB_USER = os.getenv(\"POSTGRES_USER\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DigitalIDProfile", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class DigitalIDProfile(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DigitalIDProfileBase", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class DigitalIDProfileBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DigitalIDProfileCreate", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class DigitalIDProfileCreate(DigitalIDProfileBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DigitalIDProfileRead", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class DigitalIDProfileRead(DigitalIDProfileBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DigitalIDProfileUpdate", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class DigitalIDProfileUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LinkNumberRequest", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class LinkNumberRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "LinkNumberResult", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class LinkNumberResult(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SECRET_KEY", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^SECRET_KEY = os.getenv(\"SECRET_KEY\", \"change_this_to_a_long_random_secret\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SQLALCHEMY_DATABASE_URL", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^SQLALCHEMY_DATABASE_URL = f\"postgresql:\\/\\/{DB_USER}:{DB_PASSWORD}@{DB_HOST}:{DB_PORT}\\/{DB_NAME/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^SessionLocal = sessionmaker(bind=engine, autocommit=False, autoflush=False)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Token", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class Token(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TokenData", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class TokenData(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UniqueNumber", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UniqueNumber(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UniqueNumberRead", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UniqueNumberRead(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class User(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserBase", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UserBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserCreate", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UserCreate(UserBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserRead", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UserRead(UserBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserUpdate", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^class UserUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    __tablename__ = \"admin\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Admin", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    __tablename__ = \"digital_id_profiles\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    __tablename__ = \"unique_numbers\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "access_token", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    access_token: str = Field(..., description=\"JWT access token\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "admin_login", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def admin_login(form_data: OAuth2PasswordRequestForm = Depends(), db: Session = Depends(get_db))/", "language": "Python", "kind": "function", "signature": "(form_data: OAuth2PasswordRequestForm = Depends(), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "authenticate_admin", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def authenticate_admin(db: Session, username: str, password: str):$/", "language": "Python", "kind": "function", "signature": "(db: Session, username: str, password: str)"}, {"_type": "tag", "name": "create_access_token", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def create_access_token(data: dict, expires_delta: Optional[timedelta] = None):$/", "language": "Python", "kind": "function", "signature": "(data: dict, expires_delta: Optional[timedelta] = None)"}, {"_type": "tag", "name": "create_digital_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def create_digital_id(profile: DigitalIDProfileCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(profile: DigitalIDProfileCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "create_user", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def create_user(user: UserCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user: UserCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "custom_http_exception_handler", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def custom_http_exception_handler(request: Request, exc: HTTPException):$/", "language": "Python", "kind": "function", "signature": "(request: Request, exc: HTTPException)"}, {"_type": "tag", "name": "delete_digital_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def delete_digital_id(profile_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(profile_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "delete_user", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def delete_user(user_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "digital_id_profile", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    digital_id_profile = relationship(\"DigitalIDProfile\", uselist=False, back_populates=\"user\")$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "digital_id_profile_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    digital_id_profile_id: int = Field(..., description=\"ID of digital ID profile\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "LinkNumberRequest", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    email = Column(String, unique=True, index=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    email: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    email: str = Field(..., description=\"Email address\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserBase", "scopeKind": "class"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^engine = create_engine(SQLALCHEMY_DATABASE_URL)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfileRead.Config", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "UniqueNumberRead.Config", "scopeKind": "class"}, {"_type": "tag", "name": "from_attributes", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^        from_attributes = True$/", "language": "Python", "kind": "variable", "scope": "UserRead.Config", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    full_name = Column(String, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    full_name: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "UserUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "full_name", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    full_name: str = Field(..., description=\"Full name of user\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserBase", "scopeKind": "class"}, {"_type": "tag", "name": "get_admin_by_username", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def get_admin_by_username(db: Session, username: str):$/", "language": "Python", "kind": "function", "signature": "(db: Session, username: str)"}, {"_type": "tag", "name": "get_current_admin", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^async def get_current_admin(token: str = Depends(oauth2_scheme), db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(token: str = Depends(oauth2_scheme), db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def get_db():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_digital_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def get_digital_id(profile_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(profile_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_password_hash", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def get_password_hash(password):$/", "language": "Python", "kind": "function", "signature": "(password)"}, {"_type": "tag", "name": "get_user", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def get_user(user_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "hashed_password", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    hashed_password = Column(String, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Admin", "scopeKind": "class"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "Admin", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id = Column(Integer, primary_key=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "id_number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id_number = Column(String, unique=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}, {"_type": "tag", "name": "id_number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id_number: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "DigitalIDProfileUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "id_number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    id_number: str = Field(..., description=\"Digital ID number (unique)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DigitalIDProfileBase", "scopeKind": "class"}, {"_type": "tag", "name": "issue_date", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    issue_date = Column(String)  # ISO date string$/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}, {"_type": "tag", "name": "issue_date", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    issue_date: Optional[str] = Field(None, description=\"Issue date (ISO format)\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "DigitalIDProfileBase", "scopeKind": "class"}, {"_type": "tag", "name": "issue_date", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    issue_date: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "DigitalIDProfileUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "link_unique_number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def link_unique_number(req: LinkNumberRequest, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(req: LinkNumberRequest, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "linked_profile", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    linked_profile = relationship(\"DigitalIDProfile\", back_populates=\"unique_number_link\")$/", "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "list_digital_ids", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def list_digital_ids(skip: int = 0, limit: int = 50, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(skip: int = 0, limit: int = 50, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_unique_numbers", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def list_unique_numbers(skip: int = 0, limit: int = 100, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(skip: int = 0, limit: int = 100, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_users", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def list_users(skip: int = 0, limit: int = 50, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(skip: int = 0, limit: int = 50, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    number = Column(String, unique=True, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "oauth2_scheme", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"login\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    password: str = Field(..., description=\"Admin password\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "AdminLoginRequest", "scopeKind": "class"}, {"_type": "tag", "name": "profile_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    profile_id = Column(Integer, ForeignKey(\"digital_id_profiles.id\", ondelete=\"SET NULL\"), null/", "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "pwd_context", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    status = Column(String, default=\"unlinked\")  # \"unlinked\", \"linked\"$/", "language": "Python", "kind": "variable", "scope": "UniqueNumber", "scopeKind": "class"}, {"_type": "tag", "name": "token_type", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    token_type: str = Field(..., description=\"Type: bearer\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "unique_number_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    unique_number_id: int = Field(..., description=\"ID of unique number\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "LinkNumberRequest", "scopeKind": "class"}, {"_type": "tag", "name": "unique_number_link", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    unique_number_link = relationship(\"UniqueNumber\", uselist=False, back_populates=\"linked_prof/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}, {"_type": "tag", "name": "unlink_unique_number", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def unlink_unique_number(unique_number_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(unique_number_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "update_digital_id", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def update_digital_id(profile_id: int, profile_in: DigitalIDProfileUpdate, db: Session = Depends/", "language": "Python", "kind": "function", "signature": "(profile_id: int, profile_in: DigitalIDProfileUpdate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "update_user", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^def update_user(user_id: int, user_in: UserUpdate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(user_id: int, user_in: UserUpdate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/digital-id-management-dashboard-baa1d6af/digital_id_backend/src/api/main.py", "pattern": "/^    user = relationship(\"User\", back_populates=\"digital_id_profile\")$/", "language": "Python", "kind": "variable", "scope": "DigitalIDProfile", "scopeKind": "class"}], "hash": "c85ba301d851968b1bacec33f5fac63d", "format-version": 4, "code-base-name": "digital_id_backend", "filename": "digital_id_backend/src/api/main.py", "fields": [{"name": "ACCESS_TOKEN_EXPIRE_MINUTES = 60 * 24", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ALGORITHM = \"HS256\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DB_HOST = os.getenv(\"POSTGRES_URL\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DB_NAME = os.getenv(\"POSTGRES_DB\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DB_PASSWORD = os.getenv(\"POSTGRES_PASSWORD\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DB_PORT = os.getenv(\"POSTGRES_PORT\", \"5432\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "DB_USER = os.getenv(\"POSTGRES_USER\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SECRET_KEY = os.getenv(\"SECRET_KEY\", \"change_this_to_a_long_random_secret\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SQLALCHEMY_DATABASE_URL = f\"postgresql:\\/\\/{DB_USER}:{DB_PASSWORD}@{DB_HOST}:{DB_PORT}\\/{DB_NAME/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(bind=engine, autocommit=False, autoflush=False)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "__tablename__ = \"admin\"", "scope": "Admin", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"digital_id_profiles\"", "scope": "DigitalIDProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"unique_numbers\"", "scope": "UniqueNumber", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "str access_token", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "digital_id_profile = relationship(\"DigitalIDProfile\", uselist=False, back_populates=\"user\")", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "int digital_id_profile_id", "scope": "LinkNumberRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "email = Column(String, unique=True, index=True, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] email", "scope": "UserUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str email", "scope": "UserBase", "scopeKind": "class", "description": "unavailable"}, {"name": "engine = create_engine(SQLALCHEMY_DATABASE_URL)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "from_attributes = True", "scope": "DigitalIDProfileRead.Config", "scopeKind": "class", "description": "unavailable"}, {"name": "full_name = Column(String, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] full_name", "scope": "UserUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str full_name", "scope": "UserBase", "scopeKind": "class", "description": "unavailable"}, {"name": "hashed_password = Column(String, nullable=False)", "scope": "Admin", "scopeKind": "class", "description": "unavailable"}, {"name": "id = Column(Integer, primary_key=True, index=True)", "scope": "Admin", "scopeKind": "class", "description": "unavailable"}, {"name": "id_number = Column(String, unique=True, nullable=False)", "scope": "DigitalIDProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] id_number", "scope": "DigitalIDProfileUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str id_number", "scope": "DigitalIDProfileBase", "scopeKind": "class", "description": "unavailable"}, {"name": "issue_date = Column(String)  # ISO date string", "scope": "DigitalIDProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] issue_date", "scope": "DigitalIDProfileBase", "scopeKind": "class", "description": "unavailable"}, {"name": "linked_profile = relationship(\"DigitalIDProfile\", back_populates=\"unique_number_link\")", "scope": "UniqueNumber", "scopeKind": "class", "description": "unavailable"}, {"name": "number = Column(String, unique=True, nullable=False)", "scope": "UniqueNumber", "scopeKind": "class", "description": "unavailable"}, {"name": "oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"login\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str password", "scope": "AdminLoginRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "profile_id = Column(Integer, ForeignKey(\"digital_id_profiles.id\", ondelete=\"SET NULL\"), null/", "scope": "UniqueNumber", "scopeKind": "class", "description": "unavailable"}, {"name": "pwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "status = Column(String, default=\"unlinked\")  # \"unlinked\", \"linked\"", "scope": "UniqueNumber", "scopeKind": "class", "description": "unavailable"}, {"name": "str token_type", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "int unique_number_id", "scope": "LinkNumberRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "unique_number_link = relationship(\"UniqueNumber\", uselist=False, back_populates=\"linked_prof/", "scope": "DigitalIDProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "user = relationship(\"User\", back_populates=\"digital_id_profile\")", "scope": "DigitalIDProfile", "scopeKind": "class", "description": "unavailable"}]}